<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>SVJelly From URL</title>
	<link rel="stylesheet" href="assets/example_main_styles.css">
</head>
<body class="fit">
	<div id="container"></div>
	<script src="../build/svjellymaker.js"></script>
	<script>
		var loadEventHandler = function ()
		{
			var container = document.getElementById('container');
			var maker = window.svjellymaker.createFromURL(container, 'assets/motorTest.svg');
			maker.promise.then(function ()
			{
				maker.addBasicMouseControls();
				var viewport = [[maker.renderer.width * 0.5, maker.renderer.height * 0.5], [maker.renderer.width, maker.renderer.height]];
				var chassis = maker.svjellyWorld.getGroupByID('chassis');
				maker.updateCallback = function ($time)
				{
					var box = chassis.drawing.getBoundingBox();
					viewport[0][0] = box[0][0] * maker.renderer.scaleX;
					viewport[1][0] = box[0][0] * maker.renderer.scaleX + maker.renderer.width * 0.2;
					viewport[0][1] = box[0][1] * maker.renderer.scaleX;
					viewport[1][1] = box[0][1] * maker.renderer.scaleX  + maker.renderer.height * 0.2;

					//maker.renderer.setViewport(viewport);
				};
			});
		};

		window.addEventListener('load', loadEventHandler);
	</script>
</body>
</html>